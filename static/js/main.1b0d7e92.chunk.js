(this["webpackJsonpclient-table"]=this["webpackJsonpclient-table"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),s=n.n(a),i=(n(16),n(4)),o=n(2),l=(n(17),n(18),n(0));function u(){return Object(l.jsx)("tbody",{className:"table-body",children:Object(l.jsxs)("tr",{className:"empty",children:[Object(l.jsx)("td",{}),Object(l.jsx)("td",{}),Object(l.jsx)("td",{}),Object(l.jsx)("td",{className:"loader"}),Object(l.jsx)("td",{}),Object(l.jsx)("td",{}),Object(l.jsx)("td",{})]})})}var j=["id","First Name","Last Name","E-mail","Phone","State"];function d(e){var t=e.handleClick;return Object(l.jsx)("thead",{className:"table-head",children:Object(l.jsx)("tr",{children:j.map((function(e){return Object(l.jsxs)("td",{children:[" ",e,Object(l.jsx)("span",{role:"button","aria-label":"sort",tabIndex:0,id:"id",className:"sort-icon",onClick:function(e){return t(e)},onKeyUp:function(e){return t(e)}})]},e)}))})})}n(20);function b(e){var t=e.clientsNumber,n=e.getPage,r=Object(c.useState)(0),a=Object(o.a)(r,2),s=a[0],u=a[1],j=t<20?1:Math.floor(t/20),d=t<20;Object(c.useEffect)((function(){n(s)}),[s]);return Object(l.jsxs)("div",{className:"page-controls",children:[Object(l.jsx)("button",{type:"button",className:"btn",id:"previous",disabled:d,onClick:function(e){u((function(e){return e>0?e-1:0}))},children:" previous "}),Object(i.a)(Array(j)).map((function(e,t){return Object(l.jsxs)("button",{type:"button",disabled:d,className:"btn",id:t,onClick:function(e){return function(e){var t=e.target;u(+t.id)}(e)},children:[" ",t+1," "]},t)})),Object(l.jsx)("button",{type:"button",className:"btn",id:"next",disabled:d,onClick:function(e){u((function(e){return e<5?e+1:5}))},children:" next "})]})}n(21);var f=n.p+"static/media/detective.0012fe91.png";function h(){return Object(l.jsxs)("tbody",{className:"table-body",children:[Object(l.jsx)("tr",{className:"empty",children:Object(l.jsxs)("td",{colSpan:"6",children:[" ",Object(l.jsx)("img",{className:"not-found-icon",src:f,alt:"not-found-icon"})]})}),Object(l.jsx)("tr",{className:"empty",children:Object(l.jsx)("td",{colSpan:"6",children:" Whoops! No clients were found... "})})]})}function O(e){var t=e.data,n=e.page,c=e.handleClick,r=0===n?n:20*n,a=20*(n+1);return 0===t.length?Object(l.jsx)(h,{}):Object(l.jsx)("tbody",{className:"table-body",children:t.slice(r,a).map((function(e,t){return Object(l.jsx)("tr",{className:"table-row",id:e.id,onClick:function(e){return c(e)},children:Object.values(e).map((function(e,t){return Object(l.jsx)("td",{children:e},t)}))},t)}))})}function x(e){var t=e.clientsToRender,n=e.getSortedField,r=e.getClientId,a=e.getSortIcon,s=Object(c.useState)(0),i=Object(o.a)(s,2),j=i[0],f=i[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)(d,{handleClick:function(e){var t=e.target;n(t.id),a(t)}}),t?Object(l.jsx)(O,{data:t,page:j,handleClick:function(e){var t=e.currentTarget;r(+t.id)}}):Object(l.jsx)(u,{})]}),Object(l.jsx)(b,{clientsNumber:t?t.length:1,getPage:f})]})}n(22);var p=function(){return Object(l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"M19.361 18.2168L14.601 13.2662C15.8249 11.8113 16.4954 9.98069 16.4954 8.07499C16.4954 3.62251 12.8729 0 8.42045 0C3.96797 0 0.345459 3.62251 0.345459 8.07499C0.345459 12.5275 3.96797 16.15 8.42045 16.15C10.092 16.15 11.6849 15.6458 13.0467 14.6888L17.8429 19.677C18.0434 19.8852 18.313 20 18.602 20C18.8755 20 19.1349 19.8957 19.3319 19.7061C19.7504 19.3034 19.7637 18.6357 19.361 18.2168ZM8.42045 2.10652C11.7115 2.10652 14.3889 4.78391 14.3889 8.07499C14.3889 11.3661 11.7115 14.0435 8.42045 14.0435C5.12937 14.0435 2.45198 11.3661 2.45198 8.07499C2.45198 4.78391 5.12937 2.10652 8.42045 2.10652Z"})})};function m(e){var t=e.valueToSearch,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(l.jsxs)("form",{className:"search-panel",onSubmit:function(e){return function(e){e.preventDefault()}(e)},children:[Object(l.jsx)(p,{}),Object(l.jsx)("input",{type:"text",placeholder:"Search by name",className:"search-input",value:a,onChange:function(e){return function(e){e.preventDefault(),t(e.target.value.toLowerCase().trim()),s(e.target.value)}(e)}})]})}n(23);function v(e){var t=e.states,n=e.onSelectChange;return Object(l.jsxs)("select",{onChange:function(e){return function(e){n(e.target.value)}(e)},className:"filter-panel",children:[Object(l.jsx)("option",{value:"all",children:"All"}),0!==t.length?t.map((function(e){return Object(l.jsx)("option",{value:e,children:e},e)})):null]})}n(24);function g(e){var t=e.client;return Object(l.jsxs)("div",{className:"description-panel",children:[Object(l.jsx)("h3",{children:"Profile info:"}),function(){var e=t.selectedProfile,n=t.description,c=t.address,r=t.city,a=t.state,s=t.index;return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Selected profile: "}),Object(l.jsx)("li",{children:"Desctiption: "}),Object(l.jsx)("li",{children:"Address: "}),Object(l.jsx)("li",{children:"City: "}),Object(l.jsx)("li",{children:"State: "}),Object(l.jsx)("li",{children:"Index: "})]})}),Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:e}),Object(l.jsx)("li",{children:n}),Object(l.jsx)("li",{children:c}),Object(l.jsx)("li",{children:r}),Object(l.jsx)("li",{children:a}),Object(l.jsx)("li",{children:s})]})})]})}()]})}var N=n(7),y=n(10),C=n(11),S=n(3),k=n.n(S),w=function(){function e(){Object(y.a)(this,e),this.formatTableData=function(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,state:e.adress.state}},this.formatDescriptionData=function(e){return{id:e.id,selectedProfile:"".concat(e.firstName," ").concat(e.lastName),description:e.description,address:e.adress.streetAddress,city:e.adress.city,state:e.adress.state,index:e.adress.zip}}}return Object(C.a)(e,[{key:"getData",value:function(){var e=Object(N.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/clients");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch data");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTableData",value:function(){var e=Object(N.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.abrupt("return",t.map(this.formatTableData));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDescriptionData",value:function(){var e=Object(N.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.abrupt("return",t.map(this.formatDescriptionData));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var D=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({}),s=Object(o.a)(a,2),u=s[0],j=s[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),f=b[0],h=b[1],O=Object(c.useState)(""),p=Object(o.a)(O,2),N=p[0],y=p[1],C=Object(c.useState)([]),S=Object(o.a)(C,2),k=S[0],D=S[1],L=Object(c.useState)(null),T=Object(o.a)(L,2),I=T[0],A=T[1],P=Object(c.useState)(null),E=Object(o.a)(P,2),F=E[0],M=E[1],_=new w;return Object(c.useEffect)((function(){_.getTableData().then((function(e){return D(Array.from(new Set(e.map((function(e){return e.state}))))),e})).then((function(e){return function(e){var t=Object(i.a)(e);return""===N||"all"===N?t:t.filter((function(e){return e.state===N}))}(e)})).then((function(e){return t=u,n=e,Object(i.a)(n).sort((function(e,n){return e[t.key]<n[t.key]?"asc"===t.direction?-1:1:e[t.key]>n[t.key]?"asc"===t.direction?1:-1:0}));var t,n})).then((function(e){return function(e){var t=Object(i.a)(e);return""!==f?t.filter((function(e){return e.firstName.toLowerCase().includes(f)||e.lastName.toLowerCase().includes(f)})):t}(e)})).then((function(e){return r(e)})),_.getDescriptionData().then((function(e){return M(e.find((function(e){return e.id===I})))}))}),[u,f,N,I]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("div",{className:"search-controls",children:[Object(l.jsx)(m,{valueToSearch:h}),Object(l.jsx)(v,{states:k,onSelectChange:function(e){return y(e)}})]}),Object(l.jsx)(x,{clientsToRender:n,getSortIcon:function(e){e.classList.remove("sort-icon_asc"),e.classList.add("sort-icon_desc"),u.key===e.id&&"asc"===u.direction&&(e.classList.remove("sort-icon_desc"),e.classList.add("sort-icon_asc"))},getSortedField:function(e){var t="asc";u.key===e&&"asc"===u.direction&&(t="desc"),j({key:e,direction:t})},getClientId:A}),F?Object(l.jsx)(g,{client:F}):null]})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(D,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.1b0d7e92.chunk.js.map