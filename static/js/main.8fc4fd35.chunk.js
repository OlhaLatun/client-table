(this["webpackJsonpclient-table"]=this["webpackJsonpclient-table"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(9),a=n.n(s),i=(n(16),n(4)),o=n(2),l=(n(17),n(18),n(0));function u(){return Object(l.jsx)("div",{className:"loader"})}n(20);function j(e){var t=e.clientsNumber,n=e.getPage,r=Object(c.useState)(0),s=Object(o.a)(r,2),a=s[0],u=s[1],j=t<20?1:Math.floor(t/20),d=t<20;Object(c.useEffect)((function(){n(a)}),[a]);return Object(l.jsxs)("div",{className:"page-controls",children:[Object(l.jsx)("button",{className:"btn",id:"previous",disabled:d,onClick:function(e){u((function(e){return e>0?e-1:0}))},children:" previous "}),Object(i.a)(Array(j)).map((function(e,t){return Object(l.jsxs)("button",{disabled:d,className:"btn",id:t,onClick:function(e){return function(e){var t=e.target;u(+t.id)}(e)},children:[" ",t+1," "]},t)})),Object(l.jsx)("button",{className:"btn",id:"next",disabled:d,onClick:function(e){u((function(e){return e<5?e+1:5}))},children:" next "})]})}n(21);var d=n.p+"static/media/detective.0012fe91.png";function b(e){var t=e.clientsToRender,n=e.getSortedField,r=e.getClientId,s=e.getSortIcon,a=Object(c.useState)(0),i=Object(o.a)(a,2),b=i[0],f=i[1],h=function(e){var t=e.target;n(t.id),s(t)};return Object(l.jsx)(l.Fragment,{children:t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{className:"table-head",children:Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[" id",Object(l.jsx)("span",{id:"id",className:"sort-icon",onClick:function(e){return h(e)}})]}),Object(l.jsxs)("td",{children:["  First Name",Object(l.jsx)("span",{id:"firstName",className:"sort-icon",onClick:function(e){return h(e)}})]}),Object(l.jsxs)("td",{children:["  Last Name",Object(l.jsx)("span",{id:"lastName",className:"sort-icon",onClick:function(e){return h(e)}})]}),Object(l.jsxs)("td",{children:["  Email",Object(l.jsx)("span",{id:"email",className:"sort-icon",onClick:function(e){return h(e)}})]}),Object(l.jsxs)("td",{children:["  Phone",Object(l.jsx)("span",{id:"phone",className:"sort-icon",onClick:function(e){return h(e)}})]}),Object(l.jsxs)("td",{children:["  State",Object(l.jsx)("span",{id:"state",className:"sort-icon",onClick:function(e){return h(e)}})]})]})}),Object(l.jsx)("tbody",{className:"table-body",children:function(){var e=0===b?b:20*b,n=20*(b+1);return 0===t.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("tr",{className:"empty",children:Object(l.jsxs)("td",{colSpan:"6",children:[" ",Object(l.jsx)("img",{className:"not-found-icon",src:d,alt:"not-found-icon"})]})}),Object(l.jsx)("tr",{className:"empty",children:Object(l.jsx)("td",{colSpan:"6",children:" Whoops! No clients were found... "})})]}):t.slice(e,n).map((function(e,t){var n=e.id,c=e.firstName,s=e.lastName,a=e.email,i=e.phone,o=e.state;return Object(l.jsxs)("tr",{className:"table-row",id:n,onClick:function(e){return function(e){var t=e.currentTarget;r(+t.id)}(e)},children:[Object(l.jsx)("td",{children:n}),Object(l.jsx)("td",{children:c}),Object(l.jsx)("td",{children:s}),Object(l.jsx)("td",{children:a}),Object(l.jsx)("td",{children:i}),Object(l.jsx)("td",{children:o})]},t)}))}()})]}),Object(l.jsx)(j,{clientsNumber:t.length,getPage:f})]}):Object(l.jsx)(u,{})})}n(22);var f=function(){return Object(l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"M19.361 18.2168L14.601 13.2662C15.8249 11.8113 16.4954 9.98069 16.4954 8.07499C16.4954 3.62251 12.8729 0 8.42045 0C3.96797 0 0.345459 3.62251 0.345459 8.07499C0.345459 12.5275 3.96797 16.15 8.42045 16.15C10.092 16.15 11.6849 15.6458 13.0467 14.6888L17.8429 19.677C18.0434 19.8852 18.313 20 18.602 20C18.8755 20 19.1349 19.8957 19.3319 19.7061C19.7504 19.3034 19.7637 18.6357 19.361 18.2168ZM8.42045 2.10652C11.7115 2.10652 14.3889 4.78391 14.3889 8.07499C14.3889 11.3661 11.7115 14.0435 8.42045 14.0435C5.12937 14.0435 2.45198 11.3661 2.45198 8.07499C2.45198 4.78391 5.12937 2.10652 8.42045 2.10652Z"})})};function h(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],s=n[1];return Object(l.jsxs)("form",{className:"search-panel",onSubmit:function(e){return function(e){e.preventDefault()}(e)},children:[Object(l.jsx)(f,{}),Object(l.jsx)("input",{type:"text",placeholder:"Search by name",className:"search-input",value:r,onChange:function(t){return function(t){t.preventDefault(),e.valueToSearch(t.target.value.toLowerCase().trim()),s(t.target.value)}(t)}})]})}n(23);function O(e){var t=e.states,n=e.onSelectChange;return Object(l.jsxs)("select",{onChange:function(e){return function(e){n(e.target.value)}(e)},className:"filter-panel",children:[Object(l.jsx)("option",{value:"all",children:"All"}),0!==t.length?t.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)})):null]})}n(24);function x(e){var t=e.client;return Object(l.jsxs)("div",{className:"description-panel",children:[Object(l.jsx)("h3",{children:"Profile info:"}),function(){var e=t.selectedProfile,n=t.description,c=t.address,r=t.city,s=t.state,a=t.index;return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Selected profile: "}),Object(l.jsx)("li",{children:"Desctiption: "}),Object(l.jsx)("li",{children:"Address: "}),Object(l.jsx)("li",{children:"City: "}),Object(l.jsx)("li",{children:"State: "}),Object(l.jsx)("li",{children:"Index: "})]})}),Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:e}),Object(l.jsx)("li",{children:n}),Object(l.jsx)("li",{children:c}),Object(l.jsx)("li",{children:r}),Object(l.jsx)("li",{children:s}),Object(l.jsx)("li",{children:a})]})})]})}()]})}var m=n(3),p=n.n(m),v=n(7),N=n(10),g=n(11),C=function(){function e(){Object(N.a)(this,e),this._formatTableData=function(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,state:e.adress.state}},this._formatDescriptionData=function(e){return{id:e.id,selectedProfile:"".concat(e.firstName," ").concat(e.lastName),description:e.description,address:e.adress.streetAddress,city:e.adress.city,state:e.adress.state,index:e.adress.zip}}}return Object(g.a)(e,[{key:"getData",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/OlhaLatun/client-db");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch data");case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTableData",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.abrupt("return",t.map(this._formatTableData));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDescriptionData",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.abrupt("return",t.map(this._formatDescriptionData));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var y=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)({}),a=Object(o.a)(s,2),u=a[0],j=a[1],d=Object(c.useState)(""),f=Object(o.a)(d,2),m=f[0],p=f[1],v=Object(c.useState)(""),N=Object(o.a)(v,2),g=N[0],y=N[1],k=Object(c.useState)([]),S=Object(o.a)(k,2),w=S[0],D=S[1],L=Object(c.useState)(null),T=Object(o.a)(L,2),_=T[0],A=T[1],F=Object(c.useState)(null),I=Object(o.a)(F,2),P=I[0],E=I[1],M=new C;Object(c.useEffect)((function(){M.getTableData().then((function(e){return D(Array.from(new Set(e.map((function(e){return e.state}))))),e})).then((function(e){return R(e)})).then((function(e){return B(u,e)})).then((function(e){return J(e)})).then((function(e){return r(e)})),M.getDescriptionData().then((function(e){return E(e.find((function(e){return e.id===_})))}))}),[u,m,g,_]);var B=function(e,t){return Object(i.a)(t).sort((function(t,n){return t[e.key]<n[e.key]?"asc"===e.direction?-1:1:t[e.key]>n[e.key]?"asc"===e.direction?1:-1:void 0}))},J=function(e){var t=Object(i.a)(e);return""!==m?t.filter((function(e){return e.firstName.toLowerCase().includes(m)||e.lastName.toLowerCase().includes(m)})):t},R=function(e){var t=Object(i.a)(e);return""===g||"all"===g?t:t.filter((function(e){return e.state===g}))};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("div",{className:"search-controls",children:[Object(l.jsx)(h,{valueToSearch:p}),Object(l.jsx)(O,{states:w,onSelectChange:function(e){return y(e)}})]}),Object(l.jsx)(b,{clientsToRender:n,getSortIcon:function(e){e.classList.remove("sort-icon_asc"),e.classList.add("sort-icon_desc"),u.key===e.id&&"asc"===u.direction&&(e.classList.remove("sort-icon_desc"),e.classList.add("sort-icon_asc"))},getSortedField:function(e){var t="asc";u.key===e&&"asc"===u.direction&&(t="desc"),j({key:e,direction:t})},getClientId:A}),P?Object(l.jsx)(x,{client:P}):null]})};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.8fc4fd35.chunk.js.map