{"version":3,"sources":["Components/Loader/Loader.js","Components/Table/Templates/TableHead.js","Components/PageControls/PageControls.js","Components/Table/assets/detective.png","Components/Table/Templates/NotFound.js","Components/Table/Templates/TableBody.js","Components/Table/Table.js","Components/Icons/Icon.js","Components/SearchPanel/SearchPanel.js","Components/FilterPanel/FilterPanel.js","services.js","Components/App/App.js","index.js"],"names":["Loader","className","HEADINGS","TableHead","handleClick","map","header","role","tabIndex","id","onClick","e","onKeyUp","PageControls","clientsNumber","getPage","useState","page","setPage","pages","Math","floor","disabled","useEffect","type","prevState","Array","p","i","target","NotFound","colSpan","src","notFoundIcon","alt","TableBody","data","a","b","length","slice","client","Object","values","value","Table","clientsToRender","getSortedField","getSortIcon","getClientId","SearchIcon","width","height","viewBox","xmlns","d","SearchPanel","valueToSearch","setValue","onSubmit","preventDefault","handleSubmit","placeholder","onChange","toLowerCase","trim","FilterPanel","states","onSelectChange","handleOnChange","state","APIservice","formatTableData","firstName","lastName","email","phone","adress","fetch","response","ok","Error","clone","json","this","getData","clients","App","setClients","sortConfig","setSortConfig","searchValue","setSearchValue","selectValue","setSelectValue","setStates","api","getTableData","then","from","Set","item","items","filtered","filter","filterClients","config","sort","key","direction","sorted","searched","includes","searchClients","elem","classList","remove","add","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ebadf9bf.chunk.js","sourcesContent":["import React from 'react'\nimport './Loader.css'\n\nexport default function Loader() {\n    return (\n        <tbody className='table-body' >\n            <tr className=\"empty\">\n                <td></td>\n                <td></td>\n                <td></td>\n                <td className='loader'></td>\n                <td></td>\n                <td></td>\n                <td></td>\n            </tr>\n        </tbody>\n    )\n}","import React from 'react';\nconst HEADINGS = ['id', 'First Name', 'Last Name', 'E-mail', 'Phone', 'State']\n\nexport default function TableHead({ handleClick }) {\n  return (\n    <thead className=\"table-head\">\n      <tr>\n        {HEADINGS.map((header) => (\n          <td key={header}>\n            {' '}\n            {header}\n            <span role=\"button\" aria-label=\"sort\" tabIndex={0} id=\"id\" className=\"sort-icon\" onClick={(e) => handleClick(e)} onKeyUp={(e) => handleClick(e)} />\n          </td>\n        ))}\n      </tr>\n    </thead>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport './PageControls.scss';\n\nexport default function PageControls({ clientsNumber, getPage }) {\n    const [page, setPage] = useState(0);\n    const pages = clientsNumber < 20 ? 1 : Math.floor(clientsNumber / 20);\n    const disabled = clientsNumber < 20;\n\n    useEffect(() => {\n        getPage(page);\n    }, [page]);\n\n    const onClick = ({ target }) => {\n        setPage(+target.id);\n    };\n\n    const prevClick = () => {\n        setPage((prevState) => (prevState > 0 ? prevState - 1 : 0));\n    };\n\n    const nextClick = () => {\n        setPage((prevState) => (prevState < 5 ? prevState + 1 : 5));\n    };\n\n    return (\n        <div className=\"page-controls\">\n            <button type=\"button\" className=\"btn\" id=\"previous\" disabled={disabled} onClick={(e) => prevClick(e)}> previous </button>\n            {[...Array(pages)].map((p, i) => (\n                <button type=\"button\" disabled={disabled} className=\"btn\" key={i} id={i} onClick={(e) => onClick(e)}>\n                    {' '}\n                    {i + 1}\n                    {' '}\n                </button>\n            ))}\n            <button type=\"button\" className=\"btn\" id=\"next\" disabled={disabled} onClick={(e) => nextClick(e)}> next </button>\n        </div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/detective.0012fe91.png\";","import React from 'react';\nimport notFoundIcon from '../assets/detective.png';\n\nexport default function NotFound() {\n  return (\n    <tbody className='table-body'>\n      <tr className=\"empty\">\n        <td colSpan=\"6\">\n          {' '}\n          <img className=\"not-found-icon\" src={notFoundIcon} alt=\"not-found-icon\" />\n        </td>\n      </tr>\n      <tr className=\"empty\">\n        <td colSpan=\"6\"> Whoops! No clients were found... </td>\n      </tr>\n    </tbody>\n  );\n}\n","import React from 'react';\nimport NotFound from './NotFound';\n\nexport default function TableBody({ data, page }) {\n  const a = page === 0 ? page : page * 20;\n  const b = 20 * (page + 1);\n  if (data.length === 0) return <NotFound />;\n  return <tbody className=\"table-body\">\n    {data.slice(a, b).map((client, i) => <tr className=\"table-row\" id={client.id} key={i} >\n      {Object.values(client).map((value, i) => <td key={i}>{value}</td>)}\n    </tr>\n    )}\n  </tbody>\n}\n","import React, { useState } from 'react';\nimport Loader from '../Loader/Loader';\nimport TableHead from './Templates/TableHead';\nimport PageControls from '../PageControls/PageControls';\nimport './Table.scss';\nimport TableBody from './Templates/TableBody';\n\nexport default function Table({\n  clientsToRender, getSortedField, getClientId, getSortIcon,\n}) {\n  const [page, setPage] = useState(0);\n\n  const onSortClick = ({ target }) => {\n    getSortedField(target.id);\n    getSortIcon(target);\n  };\n\n  return (\n    <>\n      <table className='table'>\n        <TableHead handleClick={onSortClick} />\n        {clientsToRender ? <TableBody data={clientsToRender} page={page} /> : <Loader />}\n      </table >\n      <PageControls clientsNumber={clientsToRender ? clientsToRender.length : 1} getPage={setPage} />\n    </>\n  );\n}\n","const SearchIcon = () => {\n    return (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M19.361 18.2168L14.601 13.2662C15.8249 11.8113 16.4954 9.98069 16.4954 8.07499C16.4954 3.62251 12.8729 0 8.42045 0C3.96797 0 0.345459 3.62251 0.345459 8.07499C0.345459 12.5275 3.96797 16.15 8.42045 16.15C10.092 16.15 11.6849 15.6458 13.0467 14.6888L17.8429 19.677C18.0434 19.8852 18.313 20 18.602 20C18.8755 20 19.1349 19.8957 19.3319 19.7061C19.7504 19.3034 19.7637 18.6357 19.361 18.2168ZM8.42045 2.10652C11.7115 2.10652 14.3889 4.78391 14.3889 8.07499C14.3889 11.3661 11.7115 14.0435 8.42045 14.0435C5.12937 14.0435 2.45198 11.3661 2.45198 8.07499C2.45198 4.78391 5.12937 2.10652 8.42045 2.10652Z\" />\n        </svg>\n    )\n}\n\nexport { SearchIcon }","import React, { useState } from 'react';\nimport './SearchPanel.scss';\nimport { SearchIcon } from '../Icons/Icon';\n\nexport default function SearchPanel({ valueToSearch }) {\n  const [value, setValue] = useState('');\n\n  function onChange(e) {\n    e.preventDefault();\n    valueToSearch(e.target.value.toLowerCase().trim());\n    setValue(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"search-panel\" onSubmit={(e) => handleSubmit(e)}>\n      <SearchIcon />\n      <input type=\"text\" placeholder=\"Search by name\" className=\"search-input\" value={value} onChange={(e) => onChange(e)} />\n    </form>\n\n  );\n}\n","import React from 'react';\nimport './FilterPanel.scss';\n\nexport default function FilterPanel({ states, onSelectChange }) {\n  const handleOnChange = (e) => {\n    onSelectChange(e.target.value);\n  };\n\n  return (\n    <select onChange={(e) => handleOnChange(e)} className=\"filter-panel\">\n      <option value=\"all\">All</option>\n      {states.length !== 0\n        ? states.map((state) => <option key={state} value={state}>{state}</option>) : null}\n    </select>\n  );\n}\n","const URL = 'https://olhalatun.github.io/data/db.json';\n\nexport default class APIservice {\n    async getData() {\n        const response = await fetch(URL);\n\n        if (!response.ok) {\n            throw new Error('Could not fetch data');\n        }\n        return await response.clone().json();\n    }\n\n    async getTableData() {\n        const data = await this.getData();\n        return data.clients.map(this.formatTableData);\n    }\n\n    formatTableData = (client) => ({\n        id: client.id,\n        firstName: client.firstName,\n        lastName: client.lastName,\n        email: client.email,\n        phone: client.phone,\n        state: client.adress.state,\n    });\n}\n","import './App.css';\nimport { React, useState, useEffect } from 'react';\nimport Table from '../Table/Table';\nimport SearchPanel from '../SearchPanel/SearchPanel';\nimport FilterPanel from '../FilterPanel/FilterPanel';\nimport APIservice from '../../services';\n\nfunction App() {\n  const [clients, setClients] = useState(null);\n  const [sortConfig, setSortConfig] = useState({});\n  const [searchValue, setSearchValue] = useState('');\n  const [selectValue, setSelectValue] = useState('');\n  const [states, setStates] = useState([]);\n  const api = new APIservice();\n\n  useEffect(() => {\n    api.getTableData()\n      .then((data) => {\n        setStates(Array.from(new Set(data.map((item) => item.state))));\n        return data;\n      })\n      .then((data) => filterClients(data))\n      .then((filtered) => sortClients(sortConfig, filtered))\n      .then((sorted) => searchClients(sorted))\n      .then((searched) => setClients(searched));\n  }, [sortConfig, searchValue, selectValue]);\n\n  function sortClients(config, items) {\n    const sorted = [...items];\n    return sorted.sort((a, b) => {\n      if (a[config.key] < b[config.key]) {\n        return config.direction === 'asc' ? -1 : 1;\n      }\n      if (a[config.key] > b[config.key]) {\n        return config.direction === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n  }\n\n  function searchClients(items) {\n    const searched = [...items];\n    return searchValue !== '' ? searched.filter((item) => item.firstName.toLowerCase().includes(searchValue)\n      || item.lastName.toLowerCase().includes(searchValue)) : searched;\n  }\n\n  function filterClients(items) {\n    const filtered = [...items];\n    return selectValue === '' || selectValue === 'all' ? filtered : filtered.filter((item) => item.state === selectValue);\n  }\n\n  const setSortIconStyle = (elem) => {\n    elem.classList.remove('sort-icon_asc');\n    elem.classList.add('sort-icon_desc');\n    if (sortConfig.key === elem.id && sortConfig.direction === 'asc') {\n      elem.classList.remove('sort-icon_desc');\n      elem.classList.add('sort-icon_asc');\n    }\n  };\n\n  const getSortConfig = (key) => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({ key, direction });\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"search-controls\">\n        <SearchPanel valueToSearch={setSearchValue} />\n        <FilterPanel\n          states={states}\n          onSelectChange={(value) => setSelectValue(value)}\n        />\n      </div>\n      <Table\n        clientsToRender={clients}\n        getSortIcon={setSortIconStyle}\n        getSortedField={getSortConfig}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n\n\n"],"sourceRoot":""}