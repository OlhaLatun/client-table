(this["webpackJsonpclient-table"]=this["webpackJsonpclient-table"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(9),a=n.n(s),i=(n(16),n(4)),o=n(2),u=(n(17),n(18),n(0));function l(){return Object(u.jsx)("div",{className:"loader"})}n(20);function j(e){var t=e.clientsNumber,n=e.getPage,r=Object(c.useState)(0),s=Object(o.a)(r,2),a=s[0],l=s[1],j=t<20?1:Math.floor(t/20);Object(c.useEffect)((function(){n(a)}),[a]);return Object(u.jsxs)("div",{className:"page-controls",children:[Object(u.jsx)("button",{className:"btn",id:"previous",onClick:function(){l((function(e){return e>0?e-1:0}))},children:" previous "}),Object(i.a)(Array(j)).map((function(e,t){return Object(u.jsxs)("button",{className:"btn",id:t,onClick:function(e){return function(e){var t=e.target;l(+t.id)}(e)},children:[" ",t+1," "]},t)})),Object(u.jsx)("button",{className:"btn",id:"next",onClick:function(){l((function(e){return e<5?e+1:5}))},children:" next "})]})}n(21);function d(e){var t=e.clientsToRender,n=e.getSortedField,r=e.getClientId,s=e.getSortIcon,a=Object(c.useState)(0),i=Object(o.a)(a,2),d=i[0],b=i[1],f=function(e){var t=e.target;n(t.id),s(t)};return Object(u.jsx)(u.Fragment,{children:t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{className:"table-head",children:Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[" id",Object(u.jsx)("span",{id:"id",className:"sort-icon",onClick:function(e){return f(e)}})]}),Object(u.jsxs)("td",{children:["  First Name",Object(u.jsx)("span",{id:"firstName",className:"sort-icon",onClick:function(e){return f(e)}})]}),Object(u.jsxs)("td",{children:["  Last Name",Object(u.jsx)("span",{id:"lastName",className:"sort-icon",onClick:function(e){return f(e)}})]}),Object(u.jsxs)("td",{children:["  Email",Object(u.jsx)("span",{id:"email",className:"sort-icon",onClick:function(e){return f(e)}})]}),Object(u.jsxs)("td",{children:["  Phone",Object(u.jsx)("span",{id:"phone",className:"sort-icon",onClick:function(e){return f(e)}})]}),Object(u.jsxs)("td",{children:["  State",Object(u.jsx)("span",{id:"state",className:"sort-icon",onClick:function(e){return f(e)}})]})]})}),Object(u.jsx)("tbody",{className:"table-body",children:function(){var e=0===d?d:20*d,n=20*(d+1);return t.slice(e,n).map((function(e,t){var n=e.id,c=e.firstName,s=e.lastName,a=e.email,i=e.phone,o=e.state;return Object(u.jsxs)("tr",{id:n,onClick:function(e){return function(e){var t=e.currentTarget;r(+t.id)}(e)},children:[Object(u.jsx)("td",{children:n}),Object(u.jsx)("td",{children:c}),Object(u.jsx)("td",{children:s}),Object(u.jsx)("td",{children:a}),Object(u.jsx)("td",{children:i}),Object(u.jsx)("td",{children:o})]},t)}))}()})]}),Object(u.jsx)(j,{clientsNumber:t.length,getPage:b})]}):Object(u.jsx)(l,{})})}n(22);var b=function(){return Object(u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"M19.361 18.2168L14.601 13.2662C15.8249 11.8113 16.4954 9.98069 16.4954 8.07499C16.4954 3.62251 12.8729 0 8.42045 0C3.96797 0 0.345459 3.62251 0.345459 8.07499C0.345459 12.5275 3.96797 16.15 8.42045 16.15C10.092 16.15 11.6849 15.6458 13.0467 14.6888L17.8429 19.677C18.0434 19.8852 18.313 20 18.602 20C18.8755 20 19.1349 19.8957 19.3319 19.7061C19.7504 19.3034 19.7637 18.6357 19.361 18.2168ZM8.42045 2.10652C11.7115 2.10652 14.3889 4.78391 14.3889 8.07499C14.3889 11.3661 11.7115 14.0435 8.42045 14.0435C5.12937 14.0435 2.45198 11.3661 2.45198 8.07499C2.45198 4.78391 5.12937 2.10652 8.42045 2.10652Z"})})};function f(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],s=n[1];return Object(u.jsxs)("form",{className:"search-panel",onSubmit:function(e){return function(e){e.preventDefault()}(e)},children:[Object(u.jsx)(b,{}),Object(u.jsx)("input",{type:"text",placeholder:"Search by name",className:"search-input",value:r,onChange:function(t){return function(t){t.preventDefault(),e.valueToSearch(t.target.value.toLowerCase().trim()),s(t.target.value)}(t)}})]})}n(23);function h(e){var t=e.states,n=e.onSelectChange;return Object(u.jsx)("select",{onChange:function(e){return function(e){n(e.target.value)}(e)},className:"filter-panel",children:0!==t.length?t.map((function(e,t){return Object(u.jsx)("option",{value:e,children:e},t)})):null})}n(24);function O(e){var t=e.client;return Object(u.jsxs)("div",{className:"description-panel",children:[Object(u.jsx)("h3",{children:"Profile info:"}),function(){var e=t.selectedProfile,n=t.description,c=t.address,r=t.city,s=t.state,a=t.index;return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Selected profile: "}),Object(u.jsx)("li",{children:"Desctiption: "}),Object(u.jsx)("li",{children:"Address: "}),Object(u.jsx)("li",{children:"City: "}),Object(u.jsx)("li",{children:"State: "}),Object(u.jsx)("li",{children:"Index: "})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:e}),Object(u.jsx)("li",{children:n}),Object(u.jsx)("li",{children:c}),Object(u.jsx)("li",{children:r}),Object(u.jsx)("li",{children:s}),Object(u.jsx)("li",{children:a})]})})]})}()]})}var x=n(3),m=n.n(x),p=n(7),v=n(10),N=n(11),g=function(){function e(){Object(v.a)(this,e),this._formatTableData=function(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,state:e.adress.state}},this._formatDescriptionData=function(e){return{id:e.id,selectedProfile:"".concat(e.firstName," ").concat(e.lastName),description:e.description,address:e.adress.streetAddress,city:e.adress.city,state:e.adress.state,index:e.adress.zip}}}return Object(N.a)(e,[{key:"getData",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch data");case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTableData",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.abrupt("return",t.map(this._formatTableData));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDescriptionData",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.abrupt("return",t.map(this._formatDescriptionData));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var C=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)({}),a=Object(o.a)(s,2),l=a[0],j=a[1],b=Object(c.useState)(""),x=Object(o.a)(b,2),m=x[0],p=x[1],v=Object(c.useState)(""),N=Object(o.a)(v,2),C=N[0],k=N[1],S=Object(c.useState)([]),y=Object(o.a)(S,2),w=y[0],D=y[1],L=Object(c.useState)(null),T=Object(o.a)(L,2),_=T[0],I=T[1],P=Object(c.useState)(null),A=Object(o.a)(P,2),E=A[0],F=A[1],M=new g;Object(c.useEffect)((function(){M.getTableData().then((function(e){return D(Array.from(new Set(e.map((function(e){return e.state}))))),e})).then((function(e){return J(e)})).then((function(e){return z(l,e)})).then((function(e){return B(e)})).then((function(e){return r(e)})),M.getDescriptionData().then((function(e){return F(e.find((function(e){return e.id===_})))}))}),[l,m,C,_]);var z=function(e,t){return Object(i.a)(t).sort((function(t,n){return t[e.key]<n[e.key]?"asc"===e.direction?-1:1:t[e.key]>n[e.key]?"asc"===e.direction?1:-1:void 0}))},B=function(e){var t=Object(i.a)(e);return""!==m?t.filter((function(e){return e.firstName.toLowerCase().includes(m)||e.lastName.toLowerCase().includes(m)})):t},J=function(e){var t=Object(i.a)(e);return""!==C?t.filter((function(e){return e.state===C})):t};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"search-controls",children:[Object(u.jsx)(f,{valueToSearch:p}),Object(u.jsx)(h,{states:w,onSelectChange:function(e){return k(e)}})]}),Object(u.jsx)(d,{clientsToRender:n,getSortIcon:function(e){e.classList.remove("sort-icon_asc"),e.classList.add("sort-icon_desc"),l.key===e.id&&"asc"===l.direction&&(e.classList.remove("sort-icon_desc"),e.classList.add("sort-icon_asc"))},getSortedField:function(e){var t="asc";l.key===e&&"asc"===l.direction&&(t="desc"),j({key:e,direction:t})},getClientId:I}),E?Object(u.jsx)(O,{client:E}):null]})};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.f759bd25.chunk.js.map